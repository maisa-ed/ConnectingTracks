<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Nunito+Sans:opsz,wght@6..12,300;6..12,400;6..12,500;6..12,600&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" integrity="sha512-Fo3rlrZj/k7ujTnHg4CGR2D7kSs0v4LLanw2qksYuRlEzO+tcaEPQogQ0KaoGN26/zrn20ImR1DfuLWnOo7aBA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="style.css" />
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/typed.js/2.0.12/typed.min.js"></script>
    <title>TRILHA</title>
</head>
<body>
    <div class="bg-home">
        <header>
            <nav class="header-content container">
                <div class="header-icons" data-aos="fade-down">
                    <a href="#"><i class="fa-brands fa-instagram fa-2x"></i></a>
                </div>
                <div class="header-logo" data-aos="fade-up" data-aos-delay="500">
                    <img src="assets/logo.png" alt="Logo Wings" style="width: 250px" data-aos="flip-up" data-aos-delay="300" data-aos-duration="1500" />
                </div>
                <div data-aos="fade-down">
                    <a class="header-button" href="formulario.html">Cadastrar trilha</a>
                    <a class="header-button" href="logar.html">Fazer login</a>
                </div>
            </nav>
            <main class="hero container" data-aos="fade-up" data-aos-delay="500">
                <h1 id="typed-text"></h1>
                <p>Conectando-se com a natureza e a comunidade.</p>
            </main>
        </header>
    </div>
    <section class="about">
        <div class="container about-content">
            <div data-aos="zoom-in" data-aos-delay="100">
                <img src="assets/teste.png" alt="Sobre entregador" />
            </div>
            <div class="about-description" data-aos="zoom-out-left" data-aos-delay="200">
                <h2>Sobre</h2>
                <p>Conectamos turistas apaixonados por trilhas com grupos locais. Encontre e participe de trilhas em qualquer lugar de Santa Catarina, tornando suas viagens ainda mais memoráveis e emocionantes.</p>
                <p>Além disso, oferecemos a oportunidade de compartilhar suas experiências, fotos e deixar comentários sobre as trilhas que você já fez. Não se esqueça de conferir as avaliações dos grupos locais para encontrar a experiência perfeita para sua próxima aventura. Junte-se a nós e descubra novas aventuras ao ar livre!</p>
            </div>
        </div>
    </section>
    <section class="services">
        <div class="services-content container">
            <h2>Aqui estao algumas das trilhas ja cadastradas no site</h2>
        </div>
        <section class="img-services" id="eventos-container">
            <!-- Os eventos aprovados serão inseridos aqui dinamicamente -->
        </section>
        <a class="header-button" href="todas_as_trilhas.html">Visualizar todas as trilhas</a>
    </section>
    <div class="services">
        <h2>Venha conhecer</h2>
    </div>
    <footer class="footer">
        <div class="footer-icons">
            <a href="#"><i class="fa-brands fa-instagram fa-2x"></i></a>
            <a href="#"><i class="fa-brands fa-linkedin fa-2x"></i></a>
        </div>
        <div>
            <img src="assets/logo.png" alt="logo" style="width: 250px" />
        </div>
        <p>Copyright © 2024 | Trilheiros Conectados - Todos os direitos reservados.</p>
    </footer>
    <a href="https://api.whatsapp.com/send?phone=47992617111&text=%20Quero%20fazer%20parte%20da%20Wings!" class="btn-whats" target="_blank" data-aos="zoom-in-up" data-aos-delay="400">
        <img src="assets/whatsapp.svg" alt="whatsapp" />
        <span class="tooltip">Entre em contato</span>
    </a>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            fetch('/eventos/recentes')
                .then(response => response.json())
                .then(data => {
                    const eventosContainer = document.getElementById('eventos-container');
                    data.forEach((evento, index) => {
                        const eventoDiv = document.createElement('div');
                        eventoDiv.className = 'produto';
                        eventoDiv.setAttribute('data-aos', 'fade-up');
                        eventoDiv.setAttribute('data-aos-delay', `${150 + index * 100}`);

                        // Formatar a data no padrão brasileiro (dd/mm/aaaa)
                        const dataFormatada = formatarDataBrasileiro(evento.data);

                        eventoDiv.innerHTML = `
                        <img src="assets/servico1.jpg" alt="Evento Aprovado" />
                            <div class="prod-infot">
                                <p><strong>${evento.nome}</strong></p>
                                <p><strong>${evento.descricao}</strong></p>
                                <p><strong>Data:</strong> ${dataFormatada}</p>
                                <p><strong>Hora:</strong> ${evento.hora}</p>
                                <p><strong>Local:</strong> ${evento.local}</p>
                                <p><strong>Tempo:</strong> ${evento.tempo}</p>
                                <p><strong>Dificuldade:</strong> ${evento.dificuldade}</p>
                                <p><strong>Link WhatsApp:</strong> <a href="${evento.linkWhats}" target="_blank">${evento.linkWhats}</a></p>
                            </div>
                        `;

                        eventosContainer.appendChild(eventoDiv);
                    });
                })
                .catch(error => console.error('Erro ao buscar eventos:', error));
        });

        document.addEventListener('DOMContentLoaded', () => {
            AOS.init();
            new Typed('#typed-text', {
                strings: ['Encontre trilhas incríveis', 'Conecte-se com a natureza', 'Aventure-se em novos caminhos'],
                typeSpeed: 50,
                backSpeed: 50,
                backDelay: 2000,
                loop: true,
            });
        });

        // Função para formatar a data no padrão brasileiro (dd/mm/aaaa)
        function formatarDataBrasileiro(data) {
            const dataObj = new Date(data + 'T00:00:00'); // Adiciona 'T00:00:00' para evitar problemas de fuso horário
            const dia = dataObj.getUTCDate().toString().padStart(2, '0'); // Obtém a data em UTC
            const mes = (dataObj.getUTCMonth() + 1).toString().padStart(2, '0'); // Mês começa do zero
            const ano = dataObj.getUTCFullYear();
            return `${dia}/${mes}/${ano}`;
        }
    </script>
</body>
</html>
